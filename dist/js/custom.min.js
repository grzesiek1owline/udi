"use strict";function CopyAddressFields(){var e,t,a,n,s,o,r,m=document.getElementById("other-address");m&&!m.checked&&(e=document.getElementById("street").value,t=document.getElementById("home-number").value,a=document.getElementById("flat-number").value,n=document.getElementById("zip").value,s=document.getElementById("town").value,o=document.getElementById("area").value,r=document.getElementById("before_street").value,document.getElementById("street2").value=e,document.getElementById("home-number2").value=t,document.getElementById("flat-number2").value=a,document.getElementById("zip2").value=n,document.getElementById("town2").value=s,document.getElementById("area2").value=o,document.getElementById("before_street2").value=r)}function clearOtherAdressFields(){var e=document.getElementById("other-address");e&&e.checked&&(document.getElementById("street2").value="",document.getElementById("home-number2").value="",document.getElementById("flat-number2").value="",document.getElementById("zip2").value="",document.getElementById("town2").value="",document.getElementById("area2").value="",document.getElementById("before_street2").value="")}function validateForm(e){return!!handleFormSubmit(e,{name:{presence:{message:"^To pole jest wymagane."},length:{minimum:2,message:"^Ta wartość wydaje się być zbyt krótka"}},surname:{presence:{message:"^To pole jest wymagane."},length:{minimum:2,message:"^Ta wartość wydaje się być zbyt krótka"}},"user-code":{presence:{message:"^To pole jest wymagane."},numericality:{message:"^Numer PESEL składa się tylko z cyfr."},length:{is:11,message:"^Numer PESEL powinien mieć 11 znaków."}},street:{presence:{message:"^To pole jest wymagane."}},street2:{presence:{message:"^To pole jest wymagane."}},"home-number":{presence:{message:"^To pole jest wymagane."}},"home-number2":{presence:{message:"^To pole jest wymagane."}},"flat-number":{presence:{message:"^To pole jest wymagane."}},"flat-number2":{presence:{message:"^To pole jest wymagane."}},zip:{presence:{message:"^To pole jest wymagane."}},zip2:{presence:{message:"^To pole jest wymagane."}},town:{presence:{message:"^To pole jest wymagane."}},town2:{presence:{message:"^To pole jest wymagane."}},"start-date":{presence:{message:"^To pole jest wymagane."}},"guarante-summary":{presence:{message:"^To pole jest wymagane."}},rodo:{presence:{message:"^To pole jest wymagane."},inclusion:{within:[!0],message:"^Musisz wyrazić zgodę, aby przejść dalej."}},email:{presence:{message:"^To pole jest wymagane."},email:{message:"^To nie jest prawidłowy adres email."}},tele:{presence:{message:"^To pole jest wymagane."}}})}function handleFormSubmit(e,t){var a=validate.collectFormValues(e);removeAlerts(e);var n=validate(a,t);return console.log(n),showErrors(e,n||{}),!n}function showErrors(e,t){e.querySelectorAll("input").forEach(function(e){showErrorsForInput(e,t&&t[e.name])})}function showErrorsForInput(e,t){var a,n=e.parentElement;t&&(e.classList.add("has-error"),(a=document.createElement("div")).classList.add("form-error"),a.innerText=t,n.append(a))}function removeAlerts(e){var t=e.querySelectorAll(".form-error");t&&t.forEach(function(e){e.remove()}),e.querySelectorAll("input").forEach(function(e){e.classList.remove("has-error")})}function submitForm(e){var t=validateForm(e),a=jQuery("#btn-submit");if(a.attr("disabled",!0),a.addClass("is-loading"),!t)return a.removeClass("is-loading"),a.removeAttr("disabled"),window.scrollTo({top:0,behavior:"smooth"}),!1;sendForm(e,a)}Date.prototype.toDateInputValue=function(){var e=new Date,t=new Date(e);return t.setDate(t.getDate()+1),t},document.getElementById("start-date").value=(new Date).toDateInputValue();for(var form=document.querySelector("[data-user-form]"),inputs=form.querySelectorAll("input"),index=0;index<inputs.length;index++){var element=inputs[index];element.addEventListener("change",function(){CopyAddressFields()})}function otherAddress(){for(var e=document.querySelectorAll("[data-show-other-address]"),t=document.querySelector("[data-other-address]"),a=0;a<e.length;a++){e[a].addEventListener("click",function(){"default"==this.dataset.showOtherAddress?t.style.display="none":(t.style.display="block",clearOtherAdressFields())})}}function sendForm(e,n){var t=jQuery(e).serialize();console.log(window),jQuery.ajax({type:"POST",url:window.my_ajax_object.ajax_url,data:{action:"send_form",form:t},success:function(e){console.log(e),n.removeClass("is-loading"),n.text("Formularz wysłany"),n.addClass("is-success")},error:function(e,t,a){console.log(a),n.removeClass("is-loading"),n.text("Wystąpił błąd, spróbuj ponownie"),n.addClass("is-danger"),n.removeAttr("disabled")}})}form.addEventListener("submit",function(e){e.preventDefault(),CopyAddressFields(),submitForm(this)}),otherAddress();